{%extends 'layout/base.html'%}

{%block title%}Login{%endblock%}

{%block body%}
<div class="min-h-screen bg-gray-50 flex items-center justify-center p-6">
  <main class="w-full max-w-md">
    <section class="bg-white shadow-md rounded-2xl p-8">
      <div class="text-center">
        <h1 class="text-2xl font-semibold">เข้าสู่ระบบ</h1>
        <p class="text-sm text-gray-500">เข้าสู่ระบบด้วยบัญชีของคุณ</p>
      </div><br>

      <form method="post" action="{% url 'login_view' %}">
        {% csrf_token %}
        <div>
          <label for="{{form.email.id_for_label}}" class="block text-sm font-medium text-gray-700">Email</label>
          {{form.email}}{{form.email.errors}}
        </div><br>

        <div>
          <label for="{{form.password.id_for_label}}" class="block text-sm font-medium text-gray-700">Password</label>
          <div class="mt-1 relative">
            {{form.password}}{{form.password.errors}}
            <button type="button" id="togglePassword" aria-label="show password" class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-500">แสดง</button>
          </div>
        </div><br>

        <div class="flex items-center justify-between text-sm">
          <label class="inline-flex items-center gap-2">
            <input type="checkbox" name="remember" class="rounded text-indigo-600 focus:ring-indigo-500" />
            <span>จดจำฉัน</span>
          </label>

          <a href="#" class="text-indigo-600 hover:underline">ลืมรหัสผ่าน?</a>
        </div>

        <div>
          <button type="submit" class="w-full inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 text-white font-medium py-3 px-4 shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            เข้าสู่ระบบ
          </button>
        </div>
        
      </form>
    </section>
  </main>
</div>

<script>
  // Toggle password visibility (very small, progressive enhancement)
  const pw = document.getElementById('password');
  const toggle = document.getElementById('togglePassword');
  toggle?.addEventListener('click', () => {
    if (!pw) return;
      if (pw.type === 'password') {
        pw.type = 'text';
        toggle.textContent = 'ซ่อน';
      } else {
        pw.type = 'password';
        toggle.textContent = 'แสดง';
      }
  });
</script>
{%endblock%}